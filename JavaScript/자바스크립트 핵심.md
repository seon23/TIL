
# 자바스크립트(Javascript)
실시간 모니터링 시스템을 만들며 정복하는 MEVN의 2장을 참고하여 정리

<br>

[1. 함수 스코프와 호이스팅](#1-함수-스코프와-호이스팅)<br>
관련 내용을 용어별로 정리하였다.
- [자바스크립트](#자바스크립트)
- [ECMA](#ECMA)
- [var 변수 선언](#var-변수-선언)
- [`let` 변수 / `const` 상수 선언](#let-변수--const-상수-선언)
- [스코프](#스코프)
- [호이스팅](#호이스팅)
- [var과 let, const](#var과-let-const)
- [선언](#선언)
- [TDZ](#tdz)
- [초기화](#초기화)

<br>

## 1. 함수 스코프와 호이스팅
### 자바스크립트
- 인터프리터 기반의 동적 타입 언어
- 매년 발전 과정을 ES2015(ES6), ES2016(ES7) 등의 명칭으로 지정
    - ES6: ES2015 이후의 자바스크립트 문법
- ES5에서는 `var`로 변수 선언 → 함수 스코프, 호이스팅으로 인해 예상치 못한 버그 발생 → 때문에 ES6에서는 상수, 변수를 각각 `const`, `let` 키워드로 선언<br>
### ECMA
> ECMA 스크립트:<br>
ECMA-262 기술규격에 따라 정의하는 표준화된 스크립트 프로그래밍 언어. 자바스크립트 표준화 목적으로 제정<br>

<br>

### `var` 변수 선언
```
function b(){
    var i = 3;
    for(var i = 0; i < 10; i++){
    }
    return i;
}
console.log(b())    // 10
```
결과 설명
- 3이 아닌 10을 반환
- for문 안에서 `var`로 선언한 i는 함수 b()에서만 접근 가능(함수 [스코프](#스코프))
- 이는 미리 선언된 i를 재할당한 셈이다.([호이스팅](#호이스팅) 때문)

<br>

```
function b(){
    for(var i = 0; i < 10; i++){
    }
    return i;
    }
console.log(b())    // 10
```
결과 설명
- `var`로 변수 선언 → 함수 스코프 → b() 함수의 최상단으로 호이스팅
- 따라서 i는 for문에서 선언했지만 블록 밖에서도 참조 가능

<br>

### `let` 변수 / `const` 상수 선언
```
function b() {
    for(let i = 0; i < 10; i++){
    }
    return i;
}
console.log(b()) // Reference Error: i is not defined
```
`let`으로 변수 선언 → 블록 스코프, {} 안에서만 접근 가능<br>
<br>

### 스코프
변수의 접근성을 책임지는 보호막

- `var`로 변수 선언하면 함수 안에서 접근 가능 (함수 스코프)
- `let`, `const`로 선언하면 블록{} 안에서 접근 가능 (블록 스코프)

<br>

### 호이스팅
모든 함수, 변수가 선언될 때 스코프의 ~~최상단으로 이동하는 것~~ 최상단에서 선언된 것처럼 동작하는 것

#### const, let의 호이스팅
const, let으로 선언해도 호이스팅은 일어난다.<br>
```
let a = 1;
if(true){
    console.log(a)
    let a = 2
}
```
결과: **Uncaught ReferenceError: Cannot access 'a' before initialization**
- 왜 `undefined`가 아니라 `초기화 이전에 접근 불가`일까?
    - 호이스팅 발생 → `let a = 2`이 if 블록 최상단에서 [선언](#선언)된 것처럼 동작 → [TDZ](#tdz)으로 인해 [초기화](#초기화) 이전인 상태에서 `console.log()`가 변수 a에 접근
    - 즉, <u>변수 a가 가리키는 값</u>을 저장할 공간을 메모리에 확보하기 이전에 a를 참조했기 때문에 위의 에러가 발생한다.

<br>

### `var`과 `let`

| 선언 방법 | 선언 시 발생과정 |
| -------- | --------------- |
|    var   | 선언 및 `undefined`로 초기화 → 할당 |
|    let, const   | 선언 → **TDZ** → 초기화 → 할당 |

<br>
 
### 선언
변수를 실행 컨텍스트(Execution Context)에 등록하는 것

<br>

### TDZ
- Temporal Dead Zone(일시적 사각지대)
- 변수 선언과 초기화가 동시에 일어나는 것을 방지

<br>

### 초기화
- 메모리에 할당하는 것(변수가 가리키는 값을 저장할 공간 확보)
- JS에서는 모든 변수를 undefined로 초기화한다.

<br>







